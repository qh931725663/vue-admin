{"version":3,"sources":["webpack:///./src/components/page/map/baiduMap.vue?1346","webpack:///src/components/page/map/baiduMap.vue","webpack:///./src/components/page/map/baiduMap.vue?b6dc","webpack:///./src/components/page/map/baiduMap.vue","webpack:///./src/components/page/map/load.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_m","staticStyle","staticRenderFns","component","loadingMap","type","key","Promise","resolve","reject","amapLoad","script","document","createElement","src","onerror","head","appendChild","onload","BMap","AMap","bmapLoad","window","HOST_TYPE","BMap_loadScriptTime","Date","getTime","apiLoad","init","s","body"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,gBAAgB,CAACG,MAAM,CAAC,UAAY,MAAM,CAACH,EAAG,qBAAqB,CAACA,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIQ,GAAG,WAAW,IAAI,GAAGJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIS,GAAG,GAAGL,EAAG,WAAW,CAACM,YAAY,CAAC,MAAQ,MAAM,eAAe,QAAQH,MAAM,CAAC,KAAO,OAAO,YAAc,YAAYH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,YAAY,CAACP,EAAIQ,GAAG,QAAQJ,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAM,CAACM,YAAY,CAAC,MAAQ,OAAO,OAAS,SAASH,MAAM,CAAC,GAAK,aAAa,MAC7kBI,EAAkB,CAAC,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAIQ,GAAG,yBAAyBJ,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,2BAA2B,OAAS,WAAW,CAACP,EAAIQ,GAAG,iB,YCoB9P,GACE,KAAF,MACE,KAFF,WAGI,MAAJ,IAEE,QALF,WAMI,KAAJ,cAEE,QAAF,CACI,WADJ,WACM,IAAN,OACM,OAAN,OAAM,CAAN,6DACQ,EAAR,cAGI,QANJ,WAQM,IAAN,yBACM,EAAN,0DAEM,IAAN,8BAEQ,OAAR,qBAEQ,KAAR,8BAEQ,mBAAR,IAEM,EAAN,cAEM,IAAN,8BACM,EAAN,gDAEQ,IAAR,KACQ,GAAR,4BACQ,GAAR,wBACQ,GAAR,4BACQ,GAAR,0BACQ,GAAR,gCACQ,MAAR,iBAEM,EAAN,8CAEQ,MAAR,cAEM,EAAN,cACM,EAAN,0BAEM,EAAN,6CAEM,IAAN,2BACM,EAAN,gCACM,EAAN,iBCxEgX,I,YCO5WI,EAAY,eACd,EACAb,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,uFClBR,SAASC,EAAWC,EAAMC,GAC7B,OAAO,IAAIC,SAAQ,SAASC,EAASC,GAGjC,IAAIC,EAAW,WACX,IAAIC,EAASC,SAASC,cAAc,UACpCF,EAAON,KAAO,kBAEdM,EAAOG,IACH,4CACAR,EACA,yGACJK,EAAOI,QAAUN,EACjBG,SAASI,KAAKC,YAAYN,GAC1BA,EAAOO,OAAS,WACMV,EAAV,SAARH,EAA0Bc,KAAgBC,QAI9CC,EAAW,WACXC,OAAOC,UAAY,IACnBD,OAAOE,qBAAsB,IAAIC,MAAOC,UACxCJ,OAAOH,KAAOG,OAAOH,MAAQ,GAC7BG,OAAOH,KAAKQ,QAAU,kBACXL,OAAOH,KAAKQ,QACA,mBAARC,MACPA,QAGR,IAAIC,EAAIjB,SAASC,cAAc,UAC/BgB,EAAEf,IAAM,gDAAkDR,EAAM,kCAChEM,SAASkB,KAAKb,YAAYY,GAC1BA,EAAEX,OAAS,WACWV,EAAV,SAARH,EAA0Bc,KAAgBC,QAGtC,SAARf,EACAK,IAEAW","file":"js/chunk-ba0e236a.8c20aa37.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-coordinate\"}),_vm._v(\"百度地图\")])],1)],1),_c('div',{staticClass:\"container\"},[_vm._m(0),_c('el-input',{staticStyle:{\"width\":\"20%\",\"margin-right\":\"20px\"},attrs:{\"type\":\"text\",\"placeholder\":\"输入搜索城市\"}}),_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"搜索\")]),_c('br'),_c('br'),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"500px\"},attrs:{\"id\":\"allmap\"}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"plugins-tips\"},[_vm._v(\" 使用百度地图SDK工具包，使用访问地址：\"),_c('a',{attrs:{\"href\":\"http://lbsyun.baidu.com/\",\"target\":\"_blank\"}},[_vm._v(\"百度地图SDK\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item><i class=\"el-icon-coordinate\"></i>百度地图</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n            <div class=\"plugins-tips\">\r\n                使用百度地图SDK工具包，使用访问地址：<a href=\"http://lbsyun.baidu.com/\" target=\"_blank\">百度地图SDK</a>\r\n            </div>\r\n            <el-input type=\"text\" placeholder=\"输入搜索城市\" style=\"width:20%;margin-right:20px;\" /><el-button type=\"primary\"\r\n                >搜索</el-button\r\n            ><br /><br />\r\n            <div id=\"allmap\" style=\"width:100%;height:500px;\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { loadingMap } from './load'\r\nexport default {\r\n    name: 'Map',\r\n    data() {\r\n        return {}\r\n    },\r\n    created() {\r\n        this.loadScript()\r\n    },\r\n    methods: {\r\n        loadScript() {\r\n            loadingMap('baidu', '6RpOmku3nc5ZLHStoVcXoiP2Va9BjuV9').then(() => {\r\n                this.initMap()\r\n            })\r\n        },\r\n        initMap() {\r\n            // 百度地图API功能\r\n            var map = new BMap.Map('allmap')\r\n            map.centerAndZoom(new BMap.Point(113.30764968, 23.1200491), 12)\r\n            // 添加带有定位的导航控件\r\n            var navigationControl = new BMap.NavigationControl({\r\n                // 靠左上角位置\r\n                anchor: BMAP_ANCHOR_TOP_LEFT,\r\n                // LARGE类型\r\n                type: BMAP_NAVIGATION_CONTROL_LARGE,\r\n                // 启用显示定位\r\n                enableGeolocation: true,\r\n            })\r\n            map.addControl(navigationControl)\r\n            // 添加定位控件\r\n            var geolocationControl = new BMap.GeolocationControl()\r\n            geolocationControl.addEventListener('locationSuccess', function(e) {\r\n                // 定位成功事件\r\n                var address = ''\r\n                address += e.addressComponent.province\r\n                address += e.addressComponent.city\r\n                address += e.addressComponent.district\r\n                address += e.addressComponent.street\r\n                address += e.addressComponent.streetNumber\r\n                alert('当前定位地址为：' + address)\r\n            })\r\n            geolocationControl.addEventListener('locationError', function(e) {\r\n                // 定位失败事件\r\n                alert(e.message)\r\n            })\r\n            map.addControl(geolocationControl)\r\n            map.enableScrollWheelZoom(true)\r\n            // 覆盖区域图层测试\r\n            map.addTileLayer(new BMap.PanoramaCoverageLayer())\r\n\r\n            var stCtrl = new BMap.PanoramaControl() //构造全景控件\r\n            stCtrl.setOffset(new BMap.Size(20, 20))\r\n            map.addControl(stCtrl) //添加全景控件\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./baiduMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./baiduMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./baiduMap.vue?vue&type=template&id=06123df8&\"\nimport script from \"./baiduMap.vue?vue&type=script&lang=js&\"\nexport * from \"./baiduMap.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function loadingMap(type, key) {\r\n    return new Promise(function(resolve, reject) {\r\n        //for baiduMap 2.0\r\n        //高德地图引入\r\n        let amapLoad = () => {\r\n            let script = document.createElement('script')\r\n            script.type = 'text/javascript'\r\n            // script.src = type == 'baidu' ? (\"http://api.map.baidu.com/api?v=2.0&ak=\" + key + \"&callback=init\") : (\"https://webapi.amap.com/maps?v=1.4.5&key=\" + key + \"&plugin=AMap.Autocomplete,AMap.PlaceSearch,AMap.Geocoder,AMap.MapType,AMap.Driving,AMap.DistrictSearch\");\r\n            script.src =\r\n                'https://webapi.amap.com/maps?v=1.4.5&key=' +\r\n                key +\r\n                '&plugin=AMap.Autocomplete,AMap.PlaceSearch,AMap.Geocoder,AMap.MapType,AMap.Driving,AMap.DistrictSearch'\r\n            script.onerror = reject\r\n            document.head.appendChild(script)\r\n            script.onload = function() {\r\n                type == 'baidu' ? resolve(BMap) : resolve(AMap)\r\n            }\r\n        }\r\n        //百度地图引入\r\n        let bmapLoad = () => {\r\n            window.HOST_TYPE = '2'\r\n            window.BMap_loadScriptTime = new Date().getTime()\r\n            window.BMap = window.BMap || {}\r\n            window.BMap.apiLoad = function() {\r\n                delete window.BMap.apiLoad\r\n                if (typeof init == 'function') {\r\n                    init()\r\n                }\r\n            }\r\n            let s = document.createElement('script')\r\n            s.src = 'https://api.map.baidu.com/getscript?v=2.0&ak=' + key + '&services=&t=20180629105709&s=1'\r\n            document.body.appendChild(s)\r\n            s.onload = function() {\r\n                type == 'baidu' ? resolve(BMap) : resolve(AMap)\r\n            }\r\n        }\r\n        if (type != 'baidu') {\r\n            amapLoad()\r\n        } else {\r\n            bmapLoad()\r\n        }\r\n        // window.onload = function() {\r\n        //   type=='baidu'?resolve(BMap):resolve(AMap)\r\n        // }\r\n        // var script = document.createElement(\"script\");\r\n        // script.type = \"text/javascript\";\r\n        // script.src = type=='baidu'?(\"http://api.map.baidu.com/api?v=2.0&ak=\" + key + \"&callback=init\"):(\"https://webapi.amap.com/maps?v=1.4.5&key=\" + key + \"&plugin=AMap.Autocomplete,AMap.PlaceSearch,AMap.Geocoder,AMap.MapType,AMap.Driving,AMap.DistrictSearch\");\r\n        // script.onerror = reject;\r\n        // document.head.appendChild(script);\r\n    })\r\n}\r\n"],"sourceRoot":""}